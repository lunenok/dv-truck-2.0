{"version":3,"sources":["main.js"],"names":["menuButton","document","querySelector","nav","menuLink","querySelectorAll","mailHtml","ESC_KEYCODE","xhr","XMLHttpRequest","onMenuEscPress","evt","key","closeMenu","removeEventListener","openMenu","classList","remove","add","addEventListener","menuButtonHandler","contains","forEach","link","requestButton","promoButton","serviceButton","helpButton","offerButton","popupButtons","shadowBox","popup","popupForm","popupCloseButton","onPopupEscPress","closePopup","openPopup","reset","i","length","getDataFromForm","formNode","data","FormData","console","log","Array","from","entries","preventDefault","open","send","openThanksPopup","thanksPopup","thanksPopupCloseButton","onThanksEscPress","closeThanksPopup","feedbackForm"],"mappings":"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","file":"../src/main.min.js","sourcesContent":["'use strict';\n\n//menu\nconst menuButton = document.querySelector('.header__button');\nconst nav = document.querySelector('.header__nav');\nconst menuLink = document.querySelectorAll('.header__item-link');\nconst mailHtml = document.querySelector('html');\nconst ESC_KEYCODE = 27\nconst xhr = new XMLHttpRequest();\n\nconst onMenuEscPress = (evt) => {\n    if (evt.key === 'Escape') {\n        closeMenu();\n        document.removeEventListener('keydown', onMenuEscPress);\n    };\n};\n\nconst openMenu = () => {\n    nav.classList.remove('header__nav--close');\n    nav.classList.add('header__nav--open');\n    mailHtml.classList.add('hystmodal__opened');\n    document.addEventListener('keydown', onMenuEscPress);\n};\n\nconst closeMenu = () => {\n    nav.classList.remove('header__nav--open');\n    nav.classList.add('header__nav--close');\n    mailHtml.classList.remove('hystmodal__opened');\n    document.removeEventListener('keydown', onMenuEscPress);\n};\n\nconst menuButtonHandler = () => {\n    if (nav.classList.contains('header__nav--close')) {\n        openMenu();\n    } else {\n        closeMenu();\n    };\n};\n\nmenuButton.addEventListener('click', menuButtonHandler);\n\nmenuLink.forEach((link) => {\n    link.addEventListener('click', menuButtonHandler);\n});\n\n//popup\nconst requestButton = document.querySelector('.header__item--button');\nconst promoButton = document.querySelector('.promo__button');\nconst serviceButton = document.querySelector('.services__button');\nconst helpButton = document.querySelector('.help__button');\nconst offerButton = document.querySelector('.offers__button');\nconst popupButtons = [requestButton, promoButton, serviceButton, helpButton, offerButton];\nconst shadowBox = document.querySelector('.modal__shadow');\nconst popup = document.querySelector('.modal__container');\nconst popupForm = popup.querySelector('.modal__form');\nconst popupCloseButton = popup.querySelector('.modal__close-button');\n\nconst onPopupEscPress = (evt) => {\n    if (evt.key === 'Escape') {\n        closePopup();\n        document.removeEventListener('keydown', onPopupEscPress);\n    }\n}\n\nconst openPopup = () => {\n    if (!popup.classList.contains('modal__container--active')) {\n        popup.classList.add('modal__container--active');\n        shadowBox.classList.add('modal__shadow--active');\n        document.addEventListener('keydown', onPopupEscPress);\n        mailHtml.classList.add('hystmodal__opened');\n        closeMenu();\n    }\n};\n\nconst closePopup = () => {\n    popup.classList.remove('modal__container--active');\n    shadowBox.classList.remove('modal__shadow--active');\n    popupForm.reset();\n    mailHtml.classList.remove('hystmodal__opened');\n    document.removeEventListener('keydown', onPopupEscPress);\n};\n\nfor (var i = 0; i < popupButtons.length; i++) {\n    popupButtons[i].addEventListener('click', openPopup);\n};\n\npopupCloseButton.addEventListener('click', () => {\n    closePopup();\n    popupCloseButton.removeEventListener('click', closePopup);\n});\n\nconst getDataFromForm = (formNode) => {\n    const data = new FormData(formNode);\n    console.log(Array.from(data.entries()));\n    return data;\n};\n\npopupForm.addEventListener('submit', (evt) => {\n    evt.preventDefault();\n    getDataFromForm(popupForm);\n    xhr.open('POST', './mail.php');\n    xhr.send();\n    closePopup();\n    openThanksPopup();\n})\n\n//thanks popup\n\nconst thanksPopup = document.querySelector('.thanks__container');\nconst thanksPopupCloseButton = thanksPopup.querySelector('.thanks__close-button');\n\nconst onThanksEscPress = (evt) => {\n    if (evt.key === 'Escape') {\n        closeThanksPopup();\n        document.removeEventListener('keydown', onMenuEscPress);\n    };\n};\n\nconst openThanksPopup = () => {\n    if (!thanksPopup.classList.contains('thanks__container--active')) {\n        thanksPopup.classList.add('thanks__container--active');\n        shadowBox.classList.add('modal__shadow--active');\n        mailHtml.classList.add('hystmodal__opened');\n        document.addEventListener('keydown', onThanksEscPress);\n    }\n};\n\nconst closeThanksPopup = () => {\n    thanksPopup.classList.remove('thanks__container--active');\n    shadowBox.classList.remove('modal__shadow--active');\n    mailHtml.classList.remove('hystmodal__opened');\n    document.removeEventListener('keydown', onThanksEscPress);\n};\n\nthanksPopupCloseButton.addEventListener('click', closeThanksPopup);\n\n// feedback form\n\nconst feedbackForm = document.querySelector('.feedback__form');\n\nfeedbackForm.addEventListener('submit', (evt) => {\n    evt.preventDefault();\n    getDataFromForm(feedbackForm);\n    feedbackForm.reset();\n    openThanksPopup();\n});"]}